<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape Room Final Status</title>
    <link rel="stylesheet" href="style.css">
</head>

<body onclick="mousePos(event)">
    <!-- create intro -->
    <!-- create popup of the images  -->

    <!-- easiest, link with the room and click to show pics and link -->
    <div>
        <img id="backgroundImg" src="assets/secret-room-the-professor-final.png" alt="">
    </div>



    <div id="content" class="enlarge">


        <!-- need to figure out how to put iframe ontop of the image -->
        <div class="iframeItem">
            <iframe class="item" id="computerWeb"
                src="https://yitingliu97-escape-room-puzzles-1.glitch.me/Escape-Room-Pattern-Recognition-Puzzle/index.html"
                frameborder="0"></iframe>

        </div>


        <img id="computer" class="item" src="assets/computer-withOUT-text.png" alt="">

        <img id="poem" class="item" src="assets/poem.jpg" alt="">
        <img id="recipe" class="item" src="assets/recipe.png" alt="">
        <!-- <img class="item" style="height:70%"src="assets/keypad.png" alt=""> -->


        <script>

            let content = document.getElementById('content');
            let computerImg = document.getElementById('computer');
            let poemImg = document.getElementById('poem');
            let recipeImg = document.getElementById('recipe');

            // window.onclick = function (event) {
            //     if (event.target == content) {
            //         content.style.display = "none";
            //     }
            // }
            function mousePos(e) {
                let x = e.clientX;
                let y = e.clientY;

                recipeX = 35.3 / 100 * window.innerWidth;
                recipeY = 18.9 / 100 * window.innerWidth;
                recipeR = 5.73 / 100 * window.innerWidth;
                console.log('window.innerHeight', window.innerHeight)

                let distToRecipe = dist(x, y, recipeX, recipeY);
                // console.log('distToRecipe', distToRecipe)


                poemX = 60.8 / 100 * window.innerWidth;
                poemY = 29.3 / 100 * window.innerWidth;
                poemR = 3.13 / 100 * window.innerWidth;

                let distToPoem = dist(x, y, poemX, poemY);

                compX = 44.8 / 100 * window.innerWidth;
                compY = 25.4 / 100 * window.innerWidth;
                compR = 7.29 / 100 * window.innerWidth;

                let distToComp = dist(x, y, compX, compY);

                keyX = 12.5 / 100 * window.innerWidth;
                keyY = 29.2 / 100 * window.innerWidth;
                keyR = 2.6 / 100 * window.innerWidth;

                let distToKey = dist(x, y, keyX, keyY);
                if (distToRecipe <= recipeR) {
                    // alert('you selected the recipe!');
                    content.style.display = "block";
                    recipeImg.style.display = "block";
                    poemImg.style.display = "none";
                    computerImg.style.display = "none";
                    // console.log("recipeR", recipeR);
                }
                else if (distToPoem <= poemR) {
                    // alert('you selected the Poem!');
                    content.style.display = "block";
                    poemImg.style.display = "block";
                    computerImg.style.display = "none";
                    recipeImg.style.display = "none";

                }
                else if (distToComp <= compR) {
                    alert('you selected the Computer, please go to link https://yitingliu97-escape-room-puzzles-1.glitch.me/Escape-Room-Pattern-Recognition-Puzzle/index.html!');
                    content.style.display = "block";
                    computerImg.style.display = "block";
                    poemImg.style.display = "none";
                    recipeImg.style.display = "none";


                }

                else if (distToKey <= keyR) {
                    alert('you selected the Keycode!');
                    // content.style.display="block";
                    // recipe.style.display="block";
                } else {
                    content.style.display = "none";
                }

            }


            function dist(x1, y1, x2, y2) {
                console.log('y2', y2);
                return Math.sqrt(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2));
            }


        </script>
</body>

</html>